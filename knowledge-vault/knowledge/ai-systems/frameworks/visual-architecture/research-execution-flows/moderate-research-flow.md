# Moderate Research Flow

## Source References
**Claude Desktop Research**: Anthropic's orchestrator patterns for moderate complexity (3-5 specialized agents)  
**Method Selection Algorithm**: Context analysis for balanced research requirements  
**Tree-Leaf Architecture**: Universal execution paths for moderate complexity research

## Moderate Research Characteristics

Moderate research addresses multi-faceted questions requiring coordinated analysis across 2-4 specialized areas with systematic validation and cross-perspective integration.

### Complexity Indicators
- **Multi-domain analysis** (technology + business, technical + strategic)
- **Comparative evaluation** requiring multiple perspectives or methodologies
- **Strategic implications** beyond simple factual gathering
- **Quality requirements** needing systematic validation and cross-checking
- **Integration needs** with existing knowledge or systems

## Moderate Research Orchestration Pattern

```mermaid
graph TD
    A[Moderate Research Query] --> B[research-specialist]
    B --> C[Context Analysis]
    C --> D[Complexity Classification: Moderate]
    
    D --> E{Agent Capability}
    E -->|Tree Agent| F[2-4 Method Selection]
    E -->|Leaf Agent| G[Enhanced Multi-Template]
    
    F --> H[Coordinated Execution]
    G --> I[Sequential Multi-Perspective]
    
    H --> J[Cross-Method Integration]
    I --> J
    
    J --> K[Comprehensive Quality Validation]
    K --> L[Moderate Research Output]
    
    style A fill:#fff3e0
    style D fill:#ffecb3
    style L fill:#e1f5fe
```

## Tree Agent Execution (2-4 Methods)

### Multi-Method Coordination Pattern

```mermaid
sequenceDiagram
    participant RS as research-specialist
    participant M1 as primary-method
    participant M2 as perspective-method
    participant M3 as validation-method
    participant M4 as integration-method
    participant MCP as MCP Servers
    
    RS->>RS: Analyze moderate complexity
    RS->>M1: Spawn primary research method
    RS->>M2: Spawn alternative perspective
    RS->>M3: Spawn quality validation
    RS->>M4: Spawn integration analysis
    
    par Coordinated Parallel Execution
        M1->>MCP: Deep domain research
        M2->>MCP: Alternative perspective research
        M3->>MCP: Validation and verification
        M4->>MCP: Integration context research
    end
    
    M1-->>RS: Primary findings (25-35 min)
    M2-->>RS: Alternative perspective (20-30 min)
    M3-->>RS: Validation results (15-20 min)
    M4-->>RS: Integration analysis (15-25 min)
    
    RS->>RS: Multi-method synthesis (15-20 min)
    RS->>RS: Cross-validation and integration
    RS->>RS: Comprehensive quality check
    
    Note over RS: Total: 90-130 minutes
```

### Common Moderate Research Method Combinations

```mermaid
graph TD
    A[Moderate Research Combinations] --> B[Analysis + Perspective]
    A --> C[Domain + Validation]
    A --> D[Multi-Perspective + Quality]
    A --> E[Comprehensive + Enhancement]
    
    B --> F[complex_research<br/>+ multi_perspective_approach]
    B --> G[domain_adaptive<br/>+ step_by_step_research]
    
    C --> H[domain_specific_research<br/>+ constitutional_ai<br/>+ self_consistency]
    
    D --> I[multi_perspective_approach<br/>+ textgrad_iterative<br/>+ constitutional_ai]
    
    E --> J[universal_research<br/>+ iterative_refinement<br/>+ ensemble_methods]
    
    style F fill:#e1f5fe
    style G fill:#e1f5fe
    style H fill:#e1f5fe
    style I fill:#e1f5fe
    style J fill:#e1f5fe
```

## Leaf Agent Execution (Enhanced Multi-Template)

### Sequential Multi-Perspective Approach

```mermaid
flowchart TD
    A[Enhanced Multi-Template] --> B[Template Sequencing]
    B --> C[Multi-Stage Enhancement]
    
    C --> D[Stage 1: Primary Analysis<br/>• Domain expertise template<br/>• Deep information gathering<br/>• Initial perspective development]
    
    D --> E[Stage 2: Alternative Perspective<br/>• Different domain template<br/>• Contrasting viewpoint<br/>• Comparative analysis]
    
    E --> F[Stage 3: Integration Analysis<br/>• Synthesis template<br/>• Cross-perspective integration<br/>• Conflict resolution]
    
    F --> G[Stage 4: Quality Validation<br/>• Constitutional AI template<br/>• Comprehensive validation<br/>• Final quality check]
    
    G --> H[Moderate Research Output]
    
    style D fill:#f3e5f5
    style E fill:#f3e5f5
    style F fill:#f3e5f5
    style G fill:#f3e5f5
    style H fill:#e8f5e8
```

### Template Coordination Strategy

```mermaid
graph LR
    A[Multi-Template Strategy] --> B[Template 1: 35% effort<br/>Primary domain analysis<br/>Core research focus<br/>Main findings]
    
    A --> C[Template 2: 30% effort<br/>Alternative perspective<br/>Comparative analysis<br/>Different angles]
    
    A --> D[Template 3: 20% effort<br/>Integration synthesis<br/>Cross-perspective merge<br/>Unified analysis]
    
    A --> E[Template 4: 15% effort<br/>Quality validation<br/>Constitutional checks<br/>Final verification]
    
    B --> F[Sequential Execution<br/>60-90 minutes total]
    C --> F
    D --> F
    E --> F
    
    style A fill:#f3e5f5
    style F fill:#e8f5e8
```

## Method-Specific Moderate Research Patterns

### Multi-Perspective Approach (Tree vs Leaf)

```mermaid
graph TD
    A[Multi-Perspective Method] --> B{Agent Type}
    
    B -->|Tree Agent| C[4 Parallel Specialists]
    B -->|Leaf Agent| D[4 Sequential Templates]
    
    C --> E[Quantitative Specialist<br/>Market data & metrics<br/>Performance analysis<br/>Statistical insights]
    
    C --> F[Qualitative Specialist<br/>Expert opinions<br/>Case studies<br/>User experience]
    
    C --> G[Industry Practice Specialist<br/>Current implementations<br/>Best practices<br/>Standards compliance]
    
    C --> H[Future Trends Specialist<br/>Emerging technologies<br/>Market evolution<br/>Strategic implications]
    
    D --> I[Quantitative Template<br/>Enhanced with metrics focus<br/>Data-driven analysis<br/>Statistical validation]
    
    D --> J[Qualitative Template<br/>Enhanced with expert context<br/>Case study integration<br/>Experience synthesis]
    
    D --> K[Industry Template<br/>Enhanced with practice focus<br/>Implementation guidance<br/>Standards alignment]
    
    D --> L[Future Template<br/>Enhanced with trend analysis<br/>Evolution mapping<br/>Strategic planning]
    
    E --> M[Parallel Coordination: 45-60 min]
    F --> M
    G --> M
    H --> M
    
    I --> N[Sequential Execution: 60-80 min]
    J --> N
    K --> N
    L --> N
    
    M --> O[Equivalent Research Quality]
    N --> O
    
    style C fill:#e1f5fe
    style D fill:#f3e5f5
    style O fill:#e8f5e8
```

### Complex Research Method (Tree vs Leaf)

```mermaid
sequenceDiagram
    participant T as Tree Agent
    participant M1 as Market Module
    participant M2 as Technical Module
    participant M3 as Risk Module
    participant M4 as Financial Module
    participant M5 as Implementation Module
    participant L as Leaf Agent
    
    Note over T,M5: Tree Agent: Real Multi-Module Execution
    T->>M1: Spawn market landscape analysis
    T->>M2: Spawn technical feasibility
    T->>M3: Spawn risk assessment
    T->>M4: Spawn financial impact
    T->>M5: Spawn implementation planning
    
    par Parallel Module Execution
        M1-->>T: Market analysis (25 min)
        M2-->>T: Technical assessment (30 min)
        M3-->>T: Risk evaluation (20 min)
        M4-->>T: Financial modeling (25 min)
        M5-->>T: Implementation plan (20 min)
    end
    
    T->>T: Module integration (15 min)
    
    Note over L: Leaf Agent: Sequential Module Templates
    L->>L: Market Analysis Template (20 min)
    L->>L: Technical Assessment Template (25 min)
    L->>L: Risk Evaluation Template (18 min)
    L->>L: Financial Analysis Template (22 min)
    L->>L: Implementation Template (18 min)
    L->>L: Integration Synthesis (12 min)
    
    Note over T: Total: 45-50 minutes
    Note over L: Total: 115 minutes
```

## Resource Allocation for Moderate Research

### Tree Agent Resource Distribution

```mermaid
graph TD
    A[Tree Agent Resources] --> B[Primary Method: 40%]
    A --> C[Secondary Method: 30%]
    A --> D[Validation Method: 20%]
    A --> E[Coordination: 10%]
    
    B --> F[Deep domain expertise<br/>Comprehensive analysis<br/>Primary research focus<br/>Main findings development]
    
    C --> G[Alternative perspective<br/>Comparative analysis<br/>Different methodology<br/>Contrasting insights]
    
    D --> H[Quality assurance<br/>Fact verification<br/>Logic validation<br/>Constitutional compliance]
    
    E --> I[Method coordination<br/>Integration synthesis<br/>Cross-validation<br/>Output harmonization]
    
    style A fill:#e1f5fe
```

### Leaf Agent Resource Distribution

```mermaid
graph TD
    A[Leaf Agent Resources] --> B[Primary Analysis: 35%]
    A --> C[Secondary Analysis: 30%]
    A --> D[Integration: 20%]
    A --> E[Validation: 15%]
    
    B --> F[Core domain research<br/>Primary information gathering<br/>Main analytical framework<br/>Initial insights]
    
    C --> G[Alternative perspective<br/>Comparative analysis<br/>Different angles<br/>Contrasting viewpoints]
    
    D --> H[Cross-perspective synthesis<br/>Integration analysis<br/>Unified framework<br/>Coherent narrative]
    
    E --> I[Quality validation<br/>Constitutional compliance<br/>Fact checking<br/>Final verification]
    
    style A fill:#f3e5f5
```

## Quality Standards for Moderate Research

### Enhanced Validation Framework

```mermaid
graph TD
    A[Moderate Research Quality] --> B[Multi-Dimensional Validation]
    
    B --> C[Accuracy: ≥92%<br/>• Multi-source verification<br/>• Cross-method validation<br/>• Fact consistency<br/>• Logic coherence]
    
    B --> D[Completeness: ≥88%<br/>• Comprehensive coverage<br/>• Multi-perspective analysis<br/>• Integration synthesis<br/>• Gap identification]
    
    B --> E[Transparency: ≥90%<br/>• Clear methodology<br/>• Source attribution<br/>• Process documentation<br/>• Decision rationale]
    
    B --> F[Responsibility: ≥85%<br/>• Ethical considerations<br/>• Bias acknowledgment<br/>• Limitation disclosure<br/>• Impact assessment]
    
    C --> G[Moderate Quality Gate: ≥88%]
    D --> G
    E --> G
    F --> G
    
    G --> H[Production Ready Moderate Research]
    
    style H fill:#e8f5e8
```

### Cross-Method Validation Pattern

```mermaid
flowchart LR
    A[Method 1 Findings] --> D[Cross-Validation Matrix]
    B[Method 2 Findings] --> D
    C[Method 3 Findings] --> D
    
    D --> E[Consistency Check<br/>• Fact alignment<br/>• Logic coherence<br/>• Conclusion harmony]
    
    D --> F[Completeness Check<br/>• Coverage gaps<br/>• Missing perspectives<br/>• Integration opportunities]
    
    D --> G[Quality Check<br/>• Source credibility<br/>• Methodology soundness<br/>• Constitutional compliance]
    
    E --> H[Validated Moderate Research]
    F --> H
    G --> H
    
    style H fill:#e8f5e8
```

## MCP Server Coordination for Moderate Research

### Domain-Specific Server Mapping

```mermaid
graph TD
    A[Moderate Research Domains] --> B[Technical Analysis]
    A --> C[Business Analysis]  
    A --> D[Academic Research]
    A --> E[Infrastructure Analysis]
    
    B --> F[GitHub + Git + Filesystem<br/>Code analysis and documentation<br/>Technical implementation details<br/>Developer community insights]
    
    C --> G[Bright Data + Linear + Atlassian<br/>Market intelligence gathering<br/>Project management context<br/>Business process analysis]
    
    D --> H[arXiv + Semantic Scholar + PubMed<br/>Academic paper analysis<br/>Research methodology validation<br/>Scientific consensus evaluation]
    
    E --> I[AWS + Redis + Qdrant + Sentry<br/>Infrastructure capabilities<br/>Performance optimization<br/>System monitoring insights]
    
    F --> J[Coordinated Intelligence Gathering]
    G --> J
    H --> J
    I --> J
    
    style J fill:#fff3e0
```

### Server Coordination Patterns

```mermaid
sequenceDiagram
    participant RS as research-specialist
    participant M1 as Method 1
    participant M2 as Method 2
    participant MCP1 as Domain Servers A
    participant MCP2 as Domain Servers B
    participant MCP3 as Validation Servers
    
    RS->>M1: Assign primary domain research
    RS->>M2: Assign secondary domain research
    
    par Domain-Specific Coordination
        M1->>MCP1: Technical domain servers
        M2->>MCP2: Business domain servers
    end
    
    M1-->>RS: Domain A findings
    M2-->>RS: Domain B findings
    
    RS->>MCP3: Cross-domain validation
    MCP3-->>RS: Validation results
    
    RS->>RS: Integrate validated findings
```

## Performance Metrics and Success Criteria

### Moderate Research Success Framework

```mermaid
flowchart TD
    A[Moderate Research Success] --> B[Time Efficiency]
    A --> C[Quality Achievement]
    A --> D[Resource Optimization]
    A --> E[Integration Excellence]
    
    B --> F[Tree Agent: 60-90 minutes<br/>Leaf Agent: 80-120 minutes<br/>Target: Complete within 2 hours]
    
    C --> G[Quality Score: ≥88%<br/>Cross-Validation: ≥90%<br/>User Satisfaction: High<br/>Actionability: Strong]
    
    D --> H[Token Usage: Moderate-High<br/>MCP Coordination: Multi-domain<br/>Method Efficiency: Optimized]
    
    E --> I[Perspective Integration: ≥85%<br/>Synthesis Quality: High<br/>Coherence: Strong<br/>Conflict Resolution: Complete]
    
    style F fill:#fff3e0
    style G fill:#e8f5e8
    style H fill:#f3e5f5
    style I fill:#e1f5fe
```

## Common Moderate Research Examples

### Technology + Business Analysis
- **"Should we adopt GraphQL for our e-commerce platform?"**
  - Methods: complex_research + multi_perspective_approach + constitutional_ai
  - Duration: 75-105 minutes
  - Domains: Technical feasibility, business impact, implementation complexity

### Strategic Decision Support
- **"What is the optimal cloud migration strategy for our microservices?"**
  - Methods: domain_adaptive + ensemble_methods + iterative_refinement
  - Duration: 90-120 minutes
  - Domains: Infrastructure, cost analysis, risk assessment, timeline planning

### Comparative Technology Evaluation
- **"React vs Vue.js vs Angular for enterprise application development"**
  - Methods: multi_perspective_approach + self_consistency + constitutional_ai
  - Duration: 80-110 minutes
  - Domains: Technical capabilities, ecosystem maturity, team expertise, business fit

## Error Handling and Quality Recovery

### Moderate Research Failure Patterns

```mermaid
graph TD
    A[Moderate Research Failures] --> B[Integration Conflicts]
    A --> C[Quality Degradation]
    A --> D[Resource Exhaustion]
    A --> E[Scope Expansion]
    
    B --> F[Conflict Resolution:<br/>• Identify contradiction sources<br/>• Apply hierarchical validation<br/>• Synthesize coherent narrative<br/>• Document uncertainty areas]
    
    C --> G[Quality Recovery:<br/>• Trigger additional validation<br/>• Apply constitutional correction<br/>• Enhance weak perspectives<br/>• Strengthen source diversity]
    
    D --> H[Resource Optimization:<br/>• Prioritize critical methods<br/>• Reduce secondary analysis<br/>• Focus on high-value areas<br/>• Maintain quality thresholds]
    
    E --> I[Scope Management:<br/>• Refocus on core questions<br/>• Defer peripheral topics<br/>• Maintain moderate boundaries<br/>• Document scope decisions]
    
    F --> J[Recovery: 15-25 minutes]
    G --> J
    H --> J
    I --> J
    
    style J fill:#e8f5e8
```

## Implementation Guidelines

### For Tree Agents
1. **Balanced Orchestration**: Use 2-4 methods with clear role differentiation
2. **Parallel Efficiency**: Leverage concurrent execution while managing coordination complexity
3. **Cross-Method Integration**: Ensure findings synthesis maintains coherence
4. **Quality Assurance**: Apply comprehensive validation across multiple perspectives

### For Leaf Agents
1. **Sequential Excellence**: Use structured progression through multiple enhanced templates
2. **Template Sophistication**: Apply domain-specific templates with advanced enhancement
3. **Integration Focus**: Emphasize synthesis quality in cross-template coordination
4. **Validation Rigor**: Apply systematic quality checks throughout sequential execution

### Universal Principles
1. **Scope Management**: Maintain moderate complexity boundaries while ensuring comprehensive coverage
2. **Quality Standards**: Achieve ≥88% validation score across all quality dimensions
3. **Time Management**: Complete within 2-hour target while maintaining quality standards
4. **Integration Excellence**: Ensure coherent synthesis of multiple perspectives and methodologies

This moderate research flow demonstrates sophisticated coordination patterns for multi-faceted queries while maintaining quality equivalence across different agent capabilities and execution approaches.